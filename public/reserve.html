<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">
    <title>Reserve</title>
</head>
<body>
    <div class="container">
        <div class="p-4 shadow-4 rounded-3" style="background-color: hsl(0, 0%, 94%);">
          <h1 class="text-center">🍝 Thee Restaurant<h1>
          <br>
          <h2 class="text-center">Make Reservation</h2>
          <div class="text-center">
            <a href="/reservationsPage"><button class="btn btn-lg btn-primary">🔍 View Reservation</button><a>
            <a href="/">
            <button class="btn btn-lg btn-default">🏠</button></a>
          </div>
        </div>

        <br>
        
        <div class="row mb-3">
      <div class="col-lg-12">
        <!-- Reservation Page -->
        <div class="card">
          <div class="card-header"><strong>
            Table Reservation</strong>
          </div>
          <div class="card-body">
            <form role="form">
              <div class="form-group mb-3">
                <label for="reserve-name"><strong>Name</strong></label>
                <input type="text" class="form-control" id="reserve-name">
              </div>
              <div class="form-group mb-3">
                <label for="reserve-phone"><strong>Phone Number</strong></label>
                <input type="text" class="form-control" id="reserve-phone">
              </div>
              <div class="form-group mb-3">
                <label for="reserve-email"><strong>Email</strong></label>
                <input type="text" class="form-control" id="reserve-email">
              </div>
              <div class="form-group mb-3">
                <label for="reserve-unique-id"><strong>Unique ID</strong></label>
                <input type="text" class="form-control" id="reserve-unique-id">
              </div>
              <button type="submit" value="Submit" class="btn btn-primary submit" onclick="reserve()"><strong>Submit</strong></button>
            </form>
          </div>
        </div>
      </div>
    </div>
      </div>
      <!-- <input class="btn btn-primary" type="submit" value="Submit"> -->
      </div>

      
      
      <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css"></script>
      <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js"></script>
      <script>
        //#reserve-name
        //#reserve-phone
        //#reserve-email
        //#reserve-unique-id
        const reserve = () => {
            event.preventDefault()
            fetch('/reservations', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json; charset=utf-8'},
                body: JSON.stringify({
                    name: document.querySelector('#reserve-name').value,
                    phone: document.querySelector('#reserve-phone').value,
                    email: document.querySelector('#reserve-email').value,
                    uniqueId: document.querySelector('#reserve-unique-id').value
                })
            })
            .then(r => {
                console.log(e)
                window.location = '.\reservationsPage'
            })
            .catch(e => console.error(e));
        }
      </script>
</body>
</html>